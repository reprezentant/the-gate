/* Subtelne animacje wyboru / zaznaczenia kart */

@keyframes softSelectPulse {
  0% { box-shadow:0 0 4px 0 rgba(251,191,36,0.30); }
  50% { box-shadow:0 0 12px 3px rgba(251,191,36,0.65); }
  100% { box-shadow:0 0 4px 0 rgba(251,191,36,0.30); }
}
@keyframes softMinorPulse {
  0% { box-shadow:0 0 3px 0 rgba(52,211,153,0.28); }
  50% { box-shadow:0 0 10px 3px rgba(52,211,153,0.55); }
  100% { box-shadow:0 0 3px 0 rgba(52,211,153,0.28); }
}
@keyframes softSpellPulse {
  0% { box-shadow:0 0 3px 0 rgba(126,34,206,0.35); }
  50% { box-shadow:0 0 11px 4px rgba(147,51,234,0.65); }
  100% { box-shadow:0 0 3px 0 rgba(126,34,206,0.35); }
}
@keyframes targetPulse {
  0% { box-shadow:0 0 8px 2px rgba(147,51,234,0.65), 0 0 1px 1px rgba(255,255,255,0.25) inset; }
  50% { box-shadow:0 0 19px 6px rgba(168,85,247,0.95), 0 0 3px 2px rgba(255,255,255,0.45) inset; }
  100% { box-shadow:0 0 8px 2px rgba(147,51,234,0.65), 0 0 1px 1px rgba(255,255,255,0.25) inset; }
}

.animate-softSelect { animation: softSelectPulse 3.6s ease-in-out infinite; }
.animate-softPulseMinor { animation: softMinorPulse 4.2s ease-in-out infinite; }
.animate-softPulseSpell { animation: softSpellPulse 4.2s ease-in-out infinite; }
.animate-targetPulse { animation: targetPulse 2.4s ease-in-out infinite; }

/* GPU hint */
.animate-softSelect, .animate-softPulseMinor, .animate-softPulseSpell, .animate-targetPulse { will-change: box-shadow, filter; }

/* Mulligan glow optymalizowany pod płynność (transform zamiast dużych wahnięć box-shadow) */
@keyframes mulliganGlow {
  0% { transform:scale(.94); opacity:.55; box-shadow:0 0 8px 0 #fbbf2488; }
  50% { transform:scale(1); opacity:1; box-shadow:0 0 16px 4px #fbbf24cc; }
  100% { transform:scale(.94); opacity:.55; box-shadow:0 0 8px 0 #fbbf2488; }
}
.animate-mulliganGlow { will-change: transform, opacity, box-shadow; }

/* Mulligan selected state: non-layout ring (avoid changing box size) */
[data-mulligan-sel='1'] {
  /* outer ring without affecting layout; configurable via --mulligan-ring */
  --mulligan-ring: 3px; /* default, tuneable */
  --mulligan-ring-color: rgba(251,191,36,0.95);
  box-shadow: 0 0 0 var(--mulligan-ring) var(--mulligan-ring-color); /* visual ring */
  transform: none;
  /* ensure no additional glow animation when explicitly selected */
  will-change: auto;
}
.mulligan-glow-outer { display:none; }

@media (prefers-reduced-motion:reduce) {
  [data-mulligan-sel='1'] { transition:none; }
}

/* Zachowana uproszczona wersja starego strongSelect (fallback) */
@keyframes strongSelectGlow { 0%,100% { box-shadow:0 0 10px 2px rgba(251,191,36,0.55); } 50% { box-shadow:0 0 18px 6px rgba(251,191,36,0.85); } }
.animate-strongSelect { animation: strongSelectGlow 3s ease-in-out infinite; }

@media (prefers-reduced-motion: reduce) {
  .animate-mulliganGlow,.animate-strongSelect { animation-duration:6s; }
}

/* Small tweaks: soften mulligan global glow via variable */
:root { --mulligan-glow-blur: 12px; --mulligan-glow-color: #fbbf2488; }