/* Wachlarzowy układ ręki gracza */
/* Viewport – tylko górne ~35% kart początkowo widoczne */
/* Viewport: pokazuje tylko górną część kart, ale pozwala karcie wyjechać DO GÓRY (overflow:visible) */
.hand-fan-viewport {
  position: relative;
  width: 100%;
  height: 4.0rem; /* podniesiony wachlarz (mniej ukryte) */
  overflow: visible;
  user-select: none;
  pointer-events: auto;
  z-index: 70; /* wyżej ponad inne UI aby hover nie był obcinany przez nakładki */
}

/* Właściwy wachlarz przesunięty w dół, żeby karty były przycięte */
.hand-fan-wrapper {
  position: absolute;
  left: 50%;
  bottom: -9.7rem; /* podniesiony wachlarz */
  transform: translateX(-50%);
  width: 100%;
  height: 16.5rem;
  display: block;
  pointer-events: none; /* domyślnie wyłączone – włączamy osobną klasą interakcyjną */
}

.hand-fan-wrapper-interactive { pointer-events: auto; }

/* (opcjonalny hook na przyszłość usunięty – można dodać klasę kiedyś) */
.hand-fan-slot {
  position: absolute;
  left: 50%;
  bottom: 0;
  transition: transform 300ms ease, z-index 60ms linear, opacity 240ms ease;
  transform-origin: 50% 90%;
  pointer-events: auto;
  will-change: transform;
}
/* Pseudo-element powiększa obszar hover w górę (wysokość wynurzenia) aby nie zrywać hover przy podnoszeniu */
/* Usunięto pseudo-element łapiący hover bo mógł zasłaniać klik w dolnej części */
/* .hand-fan-slot::before { ... } */

/* Wewnętrzny wrapper wynurzenia – stabilizuje bazowy łuk i animuje tylko podniesienie */
.hand-fan-cardLift {
  /* slightly snappier but smooth lift for subtle wysuwanie */
  transition: transform 280ms cubic-bezier(.2,.8,.22,1), filter 260ms ease, opacity 200ms ease;
  transform-origin: 50% 90%;
  will-change: transform, filter;
  backface-visibility: hidden;
  /* remove paint containment so shadows and glows are not clipped */
  contain: layout style;
  position: relative;
  z-index: 0;
}
/* subtle elevated shadow while lifted */
.hand-fan-cardLift[style*="translateY"] {
  /* softer shadow when lifted to avoid heavy contrast */
  box-shadow: 0 8px 14px rgba(0,0,0,0.22);
}
/* Stronger lifted visual state when JS marks a card as lifted */
.hand-fan-cardLift.lifted {
  cursor: pointer;
  transform-origin: 50% 90%;
  /* ensure transform transitions still apply from inline style */
  transition: transform 140ms cubic-bezier(.32,.72,.28,1), box-shadow 160ms ease;
  box-shadow: 0 18px 30px rgba(0,0,0,0.28), 0 6px 12px rgba(0,0,0,0.12);
  outline: none;
}
/* .hand-fan-cardLift.is-lifted removed (JS hover handles lift to avoid jump) */
/* Fallback: jeśli z jakiegoś powodu stan hovered nie zadziała, klasyczny :hover na slocie nadal podnosi kartę minimalnie */
/* Usunięto fallback :hover aby nie dublować logiki i nie powodować migotania. */
/* Delikatne spowolnienie przy opuszczaniu – poprzez custom timing można dodać w przyszłości */
/* Hover efekt zarządzany teraz w JS (sąsiedzi się rozsuwają) */
/* Gdy karta jest pending (celowana) – możemy dodać w przyszłości inny efekt */
